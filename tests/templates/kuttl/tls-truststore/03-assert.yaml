# Validate certificates generated by step 02
---
apiVersion: kuttl.dev/v1beta1
kind: TestAssert
timeout: 5
commands:
  - script: kubectl --namespace=$NAMESPACE get cm/truststore-pem --output=jsonpath='{.data.ca\.crt}' | openssl x509 -noout
  - script: kubectl --namespace=$NAMESPACE get cm/truststore-pkcs12 --output=jsonpath='{.binaryData.truststore\.p12}' | base64 -d | openssl pkcs12 -noout -passin 'pass:' -legacy
